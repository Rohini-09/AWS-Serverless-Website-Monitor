<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Survey - Your Opinion Matters!</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <nav>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="survey.html">Survey</a></li>
            </ul>
        </nav>
    </header>

    <section class="main-content">
        <h1>Please fill out the survey below</h1>
        <form id="survey-form">
            <label for="question1">1. What is your favorite color?</label>
            <select id="question1" name="question1" required>
                <option value="">Choose an option</option>
                <option value="Red">Red</option>
                <option value="Blue">Blue</option>
                <option value="Green">Green</option>
                <option value="Yellow">Yellow</option>
            </select>

            <label for="question2">2. Do you enjoy programming?</label>
            <input type="radio" id="yes" name="question2" value="Yes" required>
            <label for="yes">Yes</label>
            <input type="radio" id="no" name="question2" value="No">
            <label for="no">No</label>
<br>
            <label for="question3">3. How often do you visit our website?</label>
            <br>
            <input type="text" id="question3" name="question3" placeholder="Answer (e.g., Daily, Weekly)" required>
    

            <button type="submit">Submit Survey</button>
        </form>
    </section>

    <footer>
        <p>&copy; 2025 Survey Website. All Rights Reserved.</p>
    </footer>

    <script>
        document.getElementById('survey-form').addEventListener('submit', async function(event) {
          event.preventDefault();
      
          const data = {
            question1: document.getElementById('question1').value,
            question2: document.querySelector('input[name="question2"]:checked').value,
            question3: document.getElementById('question3').value,
          };
      
          try {
            const response = await fetch('https://t021vrkwab.execute-api.us-east-1.amazonaws.com/prod/submitSurvey', {
              method: 'POST',
              headers: {
                'Content-Type': 'application/json',
                'x-api-key': 'g7ENGEcCkM1pvxHG8ioRX6Al24az52P9487CyDKO'
                
              },
              body: JSON.stringify(data)
            });
      
            if (response.ok) {
              window.location.href = 'thankyou.html';
            } else {
              const errorText = await response.text();
              alert('Submission failed: ' + errorText);
            }
          } catch (error) {
            console.error('Error submitting survey:', error);
            alert('Network error, please try again.');
          }
        });
      </script>
      
</body>
</html>
